<!DOCTYPE html>

<html>
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Shape Operator by Jason Merrill</title>
   <meta name="author" content="Jason Merrill" />
   <meta name="viewport" content="width=device-width"/>
   <link rel="alternate" type="application/rss+xml" title="Shape Operator" href="http://www.shapeoperator.com/feed.xml">
   <link rel="stylesheet" href="/css/vendor/katex.min.css" type="text/css" />
<link rel="stylesheet" href="/css/style.css" type="text/css" />
<link rel="stylesheet" href="/css/pygments/default.css" type="text/css" />

</head>
<body>
  <div class="header">
    <div class="header-inner">
      <h1><a href="./">Shape Operator</a></h2>
      <div class="byline">by Jason Merrill<br /><a href="mailto:jason@shapeoperator.com">jason@shapeoperator.com</a></div>
    </div>
  </div>
  <div class="main">
    
  <div class="post">
    <h2><a href="/2016/12/12/sunset-geometry/">Sunset Geometry</a></h2>
    <abbr class="date">12 Dec 2016</abbr>
    <p><p>Robert Vanderbei has written a <a href="http://orfe.princeton.edu/~rvdb/tex/sunset/ms.pdf">beautiful</a> <a href="http://orfe.princeton.edu/~rvdb/tex/sunset/34-39.OPN.1108twoup.pdf">series</a> of <a href="http://orfe.princeton.edu/~rvdb/tex/sunset/sunset.pdf">articles</a> and <a href="http://orfe.princeton.edu/u/rvdb/tex/talks/sunset/sunsetTalk_RutgersREU_small.pdf">talks</a> about a method for finding the radius of the earth based on a single photograph of a sunset over a large, calm lake.</p>

<p>Vanderbei’s analysis is an elegant and subtle exercise in classical trigonometry. In this post, I would like to present an alternative analysis in a different language: Geometric Algebra. I believe that geometric algebra is a more powerful system for formulating and solving trigonometry problems than the classical “lengths and angles” approach, and it deserves to be better known. Vanderbei’s sunset problem is simple to understand and challenging to solve, so it makes a nice benchmark.</p>

<p>Here’s Vanderbei’s sunset problem. If the earth was flat, photographs of the sun setting over water would look like this:</p>

<div>
<img alt="Flat earth sunset diagram" src="/img/sunset-flat.png" />
</div>

<p>Notice that the reflection dips just as far below the horizon as the sun peaks above it.</p>

<p>Actual photographs of the sun setting over calm water (<a href="http://www.princeton.edu/~rvdb/Sunset-crop-lossless.jpg">like Vanderbei’s</a><label for="photo-skepticism" class="margin-toggle"><sup>⊕</sup></label><input type="checkbox" id="photo-skepticism" class="margin-toggle" /><span class="marginnote">Update: I should have been more careful to note that most photographs of sunsets over water actually don’t look like Vanderbei’s photograph (or my diagram) because of waves and atmospheric effects, and that sensor saturation artifacts make it hard to interpret images like this. Reproducing Vanderbei’s image may be somewhere between hard and impossible. <a href="#skepticism">More Below</a>.</span>) look more like this:</p>

<div>
<img alt="Round earth sunset diagram" src="/img/sunset-round.png" />
</div>

</p>
    <p><a href="/2016/12/12/sunset-geometry/">more...</a></p>
  </div>

  <div class="post">
    <h2><a href="/2015/11/02/optimizing-kakuro-in-julia/">Optimizing (part of) a Kakuro puzzle solver in Julia</a></h2>
    <abbr class="date">02 Nov 2015</abbr>
    <p><div class="p">
  <figure class="sidefig">
    <a href="https://commons.wikimedia.org/wiki/File%3AKakuro_black_box_solution.svg">
      <img width="256" height="256" alt="Solved Kakuro puzzle" src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Kakuro_black_box_solution.svg/256px-Kakuro_black_box_solution.svg.png" />
    </a>
    <figcaption>A solved Kakuro puzzle.</figcaption>
  </figure>
</div>

<p><a href="https://en.wikipedia.org/wiki/Kakuro">Kakuro</a> is a number puzzle that is a bit like a combination between Sudoku and a crossword puzzle. Imagine a crossword puzzle where, instead of words, blocks of boxes are filled with combinations of digits between 1 and 9, and instead of clues about words, you are given sums that a block of digits must add up to.</p>

<p>When you’re solving a Kakuro puzzle, it’s helpful to be able to generate all the combinations of <em>m</em> different digits that add up to a given sum. A <a href="https://groups.google.com/d/msg/julia-users/xJ7GpKAa16E/ZnaWuHZKBQAJ">recent thread</a> on the julia-users mailing list considered how to implement this task efficiently on a computer.</p>

<p>In this post, I’d like to show a progression of a few different implementations of the solution of this same problem. I think the progression shows off one of Julia’s core strengths: in a single language, you are free to think in either a high level way that is close to your problem domain and easy to prototype, or a low level way that pays more attention to the details of efficient machine execution. I don’t know any other system that even comes close to making it as easy to switch back and forth between these modes as Julia does.</p>

<p><em>Attention Conservation Notice</em>: If you’re looking for information on how to solve Kakuro with a computer, you should probably look elsewhere. This post is a deep dive into a tiny, tiny subproblem. On the other hand, I’ll show how to speed up the solution of this tiny, tiny subproblem by a factor of either ten thousand or a million, depending how you count, so if that sounds fun you’re in the right place.</p>

</p>
    <p><a href="/2015/11/02/optimizing-kakuro-in-julia/">more...</a></p>
  </div>

  <div class="post">
    <h2><a href="/2014/02/22/bisecting-floats/">Bisecting Floating Point Numbers</a></h2>
    <abbr class="date">22 Feb 2014</abbr>
    <p><div class="p">
  <figure class="sidefig">
    <img src="/img/bisection.png" />
  </figure>
</div>

<p>Bisection is about the simplest algorithm there is for isolating a root of a continuous function:</p>

<ol>
  <li>Start with an interval such that the function takes on oppositely signed values on the endpoints.</li>
  <li>Split the interval at its midpoint.</li>
  <li>Recurse into whichever half has endpoints on which the function takes on oppositely signed values.</li>
</ol>

<p>After each step, the new interval is half as large as the previous interval and still contains at least one zero (by the <a href="https://en.wikipedia.org/wiki/Intermediate_value_theorem">Intermediate Value Theorem</a>).</p>

<p>I want to highlight a couple of interesting issues that arise when implementing bisection in floating point arithmetic that you might miss if you just looked at the definition of the algorithm.</p>

</p>
    <p><a href="/2014/02/22/bisecting-floats/">more...</a></p>
  </div>


  </div>
  <script src="/js/vendor/katex.min.js"></script>
<script src="/js/render-katex.js"></script>

</body>
</html>