<!DOCTYPE html>

<html>
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Shape Operator by Jason Merrill</title>
   <meta name="author" content="Jason Merrill" />
   <meta name="viewport" content="width=device-width"/>
   <link rel="alternate" type="application/rss+xml" title="Shape Operator" href="http://localhost:4000/feed.xml">
   <link rel="stylesheet" href="/css/vendor/katex.min.css" type="text/css" />
<link rel="stylesheet" href="/css/style.css" type="text/css" />
<link rel="stylesheet" href="/css/pygments/default.css" type="text/css" />

</head>
<body>
  <div class="header">
    <div class="header-inner">
      <h1><a href="./">Shape Operator</a></h2>
      <div class="byline">by Jason Merrill<br /><a href="mailto:jason@shapeoperator.com">jason@shapeoperator.com</a></div>
    </div>
  </div>
  <div class="main">
    
  <div class="post">
    <h2><a href="/2019/02/10/proving-theorems-about-angles-without-angles/">Proving theorems about angles without angles</a></h2>
    <abbr class="date">10 Feb 2019</abbr>
    <p><p>In several recent posts, I have been exploring a way of doing trigonometry using vectors and their various products while de-emphasizing angle measures and trigonometric functions.</p>

<p>In this system, triangles are represented as sets of three vectors that add to <span class="mathquill-embedded-latex">0</span></p>

<figure class="mainfig">
  <img alt="Triangle a b c" src="/img/proving-theorems-about-angles-without-angles/triangle-abc.png" style="width: 230px;" />
</figure>

<div class="display-latex">
  a + b + c = 0
</div>

<p>The traditional <a href="/2017/02/28/geometry-algebra-intuition/">law of cosines can be replaced</a> with a vector equation that uses the dot product</p>

<div class="display-latex">
  c^2 = a^2 + b^2 + 2 a\cdot b
</div>

<p>the <a href="/2018/11/19/algebraic-law-of-sines/">law of sines can be replaced</a> with a vector equation that uses the wedge product</p>

<div class="display-latex">
  a \wedge b = b \wedge c = c \wedge a
</div>

<p>and <a href="/2019/01/07/relating-dot-wedge/">rotations and reflections can be represented</a> using geometric products of vectors. For vectors in the plane, the rotation of a vector <span class="mathquill-embedded-latex">v</span> through the angle between vectors <span class="mathquill-embedded-latex">a</span> and <span class="mathquill-embedded-latex">b</span> can be represented by right multiplying by the product <span class="mathquill-embedded-latex">\hat{a}\hat{b}</span><label for="notation" class="margin-toggle"><sup>⊕</sup></label><input type="checkbox" id="notation" class="margin-toggle" /><span class="marginnote">Reminder on notation: in these posts, lower case latin letters like <span class="mathquill-embedded-latex">a</span> and <span class="mathquill-embedded-latex">b</span> represent vectors, greek letters like <span class="mathquill-embedded-latex">\theta</span> and <span class="mathquill-embedded-latex">\phi</span> represent real numbers such as lengths or angles, and <span class="mathquill-embedded-latex">\hat{a}</span> represents a unit vector directed along <span class="mathquill-embedded-latex">a</span>, so that <span class="mathquill-embedded-latex">\hat{a}^2=1</span> and <span class="mathquill-embedded-latex">\hat{a} \wedge a = 0</span>. Juxtaposition of vectors represents their geometric product, so that <span class="mathquill-embedded-latex">ab</span> is the geometric product between vectors <span class="mathquill-embedded-latex">a</span> and <span class="mathquill-embedded-latex">b</span>, and the geometric product is non-commutative, so the order of terms is important.</span></p>

<div class="display-latex">
v_\mathrm{rot.} = v \hat{a}\hat{b}
</div>

<p>and the reflection of <span class="mathquill-embedded-latex">v</span> in any vector <span class="mathquill-embedded-latex">c</span> can be represented as the “sandwich product”</p>

<div class="display-latex">
v_\mathrm{refl.} = c v c^{-1} = \hat{c} v \hat{c}
</div>

<p>Notice that none of these formulae make direct reference to any angle measures.</p>

<p>But without angle measures, won’t it be hard to state and prove theorems that are explicitly about angles?</p>

<p>Not really. Relationships between directions that can be represented by addition and subtraction of angle measures can be represented just as well using products and ratios of vectors with the geometric product. And the geometric product is better at representing reflections, which can sometimes provide fresh insights into familiar topics.</p>

<p>We’ll take as our example the <em>inscribed angle theorem</em>, because it is one of the simplest theorems about angles that doesn’t seem intuitively obvious (at least, it doesn’t seem obvious to me…).</p>

</p>
    <p><a href="/2019/02/10/proving-theorems-about-angles-without-angles/">more...</a></p>
  </div>

  <div class="post">
    <h2><a href="/2019/01/07/relating-dot-wedge/">Visualizing geometric product relationships in plane geometry</a></h2>
    <abbr class="date">07 Jan 2019</abbr>
    <p><p>In previous posts, I have shown how to visualize both the <a href="/2017/02/28/geometry-algebra-intuition/">dot product</a> and the <a href="/2018/11/19/algebraic-law-of-sines/">wedge product</a> of two vectors as parallelogram areas. In this post, I will show how the dot product and the wedge product are related through a third algebraic product: the geometric product. Along the way, we will see that the geometric product provides a simple way to algebraically model all of the major geometric relationships between vectors: rotations, reflections, and projections.</p>

<p>Before introducing the geometric product, let’s review the wedge and dot products and their interpretation in terms of parallelogram areas.</p>

<p>Given two vectors, <span class="mathquill-embedded-latex">a</span> and <span class="mathquill-embedded-latex">b</span>, their wedge product, <span class="mathquill-embedded-latex">a \wedge b</span>, is straightforwardly visualized as the area of the parallelogram spanned by these vectors:</p>

<figure class="mainfig">
  <img alt="Wedge product of vectors a and b" src="/img/relating-dot-wedge/wedge-product.png" style="width: 345px;" />
</figure>

<p>Recall that algebraically, the wedge product <span class="mathquill-embedded-latex">a \wedge b</span> produces an object called a bivector that represents the size and direction (but not the shape or location) of a plane segment in a similar way that a vector represents the size and direction (but not the location) of a line segment.</p>

<p>The dot product of the same two vectors, <span class="mathquill-embedded-latex">a \cdot b</span>, can be visualized as a parallelogram formed by one of the vectors and a copy of the other that has been rotated by <span class="mathquill-embedded-latex">90</span> degrees:</p>

<figure class="mainfig">
  <img alt="Dot product of vectors a and b" src="/img/relating-dot-wedge/dot-product.png" style="width: 223px;" />
</figure>

<p>Well, almost. When I originally wrote about this area interpretation of the dot product, I didn’t want to get into a discussion of bivectors, but once you have the concept of bivector as directed plane segment, it’s best to say that what this parallelogram depicts is not quite the dot product, <span class="mathquill-embedded-latex">a \cdot b</span>, which is a scalar (real number), but rather the bivector <span class="mathquill-embedded-latex">(a \cdot b) I</span> where <span class="mathquill-embedded-latex">I</span> is a unit bivector.</p>

<figure class="mainfig">
  <img alt="Dot product of vectors a and b as a parallelogram should include a factor of I" src="/img/relating-dot-wedge/dot-product-with-i.png" style="width: 225px;" />
</figure>

<p>The scalar <span class="mathquill-embedded-latex">a \cdot b</span> <em>scales</em> the unit bivector <span class="mathquill-embedded-latex">I</span> to produce a bivector with magnitude/area <span class="mathquill-embedded-latex">a \cdot b</span>. It’s hard to draw a scalar on a piece of paper without some version of this trick. Once you’re looking for it, you’ll see that graphical depictions of real numbers/scalars almost always show how they scale some reference object. It could be a unit segment of an axis or a scale bar; here it is instead a unit area  <span class="mathquill-embedded-latex">I</span>.</p>

<p>Examining the way that the dot product and the wedge product can be represented by parallelograms suggests an algebraic relationship between them:</p>

<div class="display-latex">
  (a \cdot b) I = b \wedge a_\perp
</div>

<p>where <span class="mathquill-embedded-latex">a_\perp</span> represents the result of rotating <span class="mathquill-embedded-latex">a</span> by <span class="mathquill-embedded-latex">90</span> degrees. Since the dot product is symmetric, we also have</p>

<div class="display-latex">
  (a \cdot b) I = a \wedge b_\perp
</div>

<figure class="mainfig">
  <img alt="Relationship between dot and wedge product" src="/img/relating-dot-wedge/dot-wedge-relationship.png" style="width: 560px;" />
</figure>

<p>To really understand this relationship, we’ll need an algebraic way to represent how <span class="mathquill-embedded-latex">a_\perp</span> is related to <span class="mathquill-embedded-latex">a</span>; in other words, we’ll need to figure out how to represent rotations algebraically.</p>

</p>
    <p><a href="/2019/01/07/relating-dot-wedge/">more...</a></p>
  </div>

  <div class="post">
    <h2><a href="/2018/11/19/algebraic-law-of-sines/">An algebraic approach to the law of sines</a></h2>
    <abbr class="date">19 Nov 2018</abbr>
    <p><p>A visual way of expressing that three vectors, <span class="mathquill-embedded-latex">a</span>, <span class="mathquill-embedded-latex">b</span>, and <span class="mathquill-embedded-latex">c</span>, form a triangle is</p>

<figure class="mainfig">
  <img alt="A triangle with sides a, b, and c." src="/img/algebraic-law-of-sines/triangle.png" style="width: 234px;" />
</figure>

<p>and an algebraic way is</p>

<div class="display-latex">
  a + b + c = 0
</div>

<p>In a <a href="/2017/02/28/geometry-algebra-intuition/">previous post</a>, I showed how to generate the law of cosines from this vector equation—solve for c and square both sides—and that this simplifies to the Pythagorean theorem when two of the vectors are perpendicular.</p>

<p>In this post, I’ll show a similarly simple algebraic route to the law of sines.</p>

<p>In understanding the law of cosines, the dot product of two vectors, <span class="mathquill-embedded-latex">a \cdot b</span>, played an important role. In understanding the law of sines, the wedge product of two vectors, <span class="mathquill-embedded-latex">a \wedge b</span>, will play a similarly important role.</p>

</p>
    <p><a href="/2018/11/19/algebraic-law-of-sines/">more...</a></p>
  </div>

  <div class="post">
    <h2><a href="/2017/04/23/lawnmower-puzzle-solution/">Lawnmower Puzzle Solution</a></h2>
    <abbr class="date">23 Apr 2017</abbr>
    <p><p>I recently posted a <a href="/2017/04/08/lawnmower-puzzle/">geometry puzzle</a> about an autonomous lawn mower steered by a rope and a peg. How much rope remains unspooled from the peg when the mower collides with it? If you haven’t seen the puzzle yet, go check out <a href="/2017/04/08/lawnmower-puzzle/">last week’s post</a> and give it a try.</p>

<figure class="mainfig">
  <a href="/2017/04/08/lawnmower-puzzle/"><img alt="Lawnmower puzzle" src="/img/lawnmower-puzzle/lawnmower-puzzle.png" style="width: 601px;" /></a>
</figure>

</p>
    <p><a href="/2017/04/23/lawnmower-puzzle-solution/">more...</a></p>
  </div>

  <div class="post">
    <h2><a href="/2017/04/08/lawnmower-puzzle/">Lawnmower Puzzle</a></h2>
    <abbr class="date">08 Apr 2017</abbr>
    <p><p>One of the joys of being an engineer at Desmos is that my collaborators occasionally bring me math problems that they need to solve to make something that they’re building work right. I love tricky little geometry problems, and I’d solve them as a hobby if they weren’t part of my job. When it helps our team get on with the work, so much the better.</p>

<p>In today’s post, I’d like to share one of these puzzles that came up while building <a href="https://teacher.desmos.com/activitybuilder/custom/5873db71ae798052084222cb">Lawnmower Math</a>, and invite you to solve it yourself.</p>

</p>
    <p><a href="/2017/04/08/lawnmower-puzzle/">more...</a></p>
  </div>

  <div class="post">
    <h2><a href="/2017/02/28/geometry-algebra-intuition/">Geometry, Algebra, and Intuition</a></h2>
    <abbr class="date">28 Feb 2017</abbr>
    <p><p>I have a confession to make: I have always found symbolic algebra more intuitive than geometric pictures. I think you’re supposed to feel the opposite way, and I greatly admire people who think and communicate in pictures, but for me, it’s usually a struggle.</p>

<p>For example, I have seen many pictorial “proofs without words” of the Pythagorean Theorem. I find some of them to be quite beautiful, but I also often find them difficult to unpack, and I never really think “oh, I could have come up with that myself.”</p>

<p>Here’s Pythagoras’ own proof<label for="faulk-pythagoras-image" class="margin-toggle"><sup>⊕</sup></label><input type="checkbox" id="faulk-pythagoras-image" class="margin-toggle" /><span class="marginnote"><a href="https://en.wikipedia.org/wiki/Pythagorean_theorem#/media/File:Pythagoras-proof-anim.svg">Image by William B. Faulk</a>, lifted from the <a href="https://en.wikipedia.org/wiki/Pythagorean_theorem">Pythagorean Theorem Wikipedia Page</a>. It’s worth looking at some of the many other visual proofs given there.</span>:</p>

<figure class="mainfig">
  <img alt="Pythagoras' visual proof of the Pythagorean theorem." src="/img/geometry-algebra-intuition/pythagoras-original-proof.png" style="width: 653px;" />
</figure>

<p>I like this proof a lot. It’s fairly simple to interpret (more so than some of the other examples in the genre), and quite convincing. We have</p>

<div class="display-latex">
  c^2 = a^2 + b^2
</div>

<p>because, along with the same four copies of a triangle, both sides of this equation fill up an identical area.</p>

<p>Even so, it’s odd to me that this diagram involves four copies of the triangle. This is one of those “I couldn’t have come up with this myself” stumbling blocks.</p>

<p>For comparison, I’ll give an algebraic proof<label for="proof-caveat" class="margin-toggle"><sup>⊕</sup></label><input type="checkbox" id="proof-caveat" class="margin-toggle" /><span class="marginnote">Here and throughout I am using the word “proof” quite loosely. Forgive me, I am a physicist, not a mathematician.</span> of the Pythagorean theorem using vectors. The condition that three vectors <span class="mathquill-embedded-latex">a</span>, <span class="mathquill-embedded-latex">b</span>, and <span class="mathquill-embedded-latex">c</span> traverse a triangle is that their sum is zero:</p>

<div class="display-latex">
  a + b + c = 0
</div>

<p>Solving for <span class="mathquill-embedded-latex">c</span> gives</p>

<div class="display-latex">
  c = -(a+b)
</div>

<p>and then dotting each side with itself and distributing gives</p>

<div class="display-latex">
  \begin{aligned}
  c \cdot c &amp;= \left(a+b\right) \cdot \left(a + b\right) \\
    &amp;= a \cdot a + a \cdot b + b \cdot a + b \cdot b \\
    &amp;= a^2 + b^2 + 2 a \cdot b
  \end{aligned}
</div>

<p>The condition that vectors <span class="mathquill-embedded-latex">a</span> and <span class="mathquill-embedded-latex">b</span> form a right angle is just that <span class="mathquill-embedded-latex">a \cdot b = 0</span>, and in that special case, we have the Pythagorean theorem:</p>

<div class="display-latex">
  c^2 = a^2 + b^2
</div>

<p>The thing I like about this algebraic manipulation is that it is a straightforward application of simple rules in sequence. There are dozens of ways to arrange 4 congruent triangles on a page (probably much more than dozens, really), but the algebra feels almost inevitable<label for="practice-the-rules" class="margin-toggle"><sup>⊕</sup></label><input type="checkbox" id="practice-the-rules" class="margin-toggle" /><span class="marginnote">It does take practice to get a feel for which rules to apply to achieve a given goal, but there are really only a few rules to try: distributivity, commutativity, associativity, linearity over scalar multiplication, and that’s about it.</span>.</p>

<ol>
  <li>Write down the algebraic condition that vectors forming the sides of any triangle must satisfy.</li>
  <li>We’re interested in a function of one of the side vectors, <span class="mathquill-embedded-latex">c^2</span>, so we solve for <span class="mathquill-embedded-latex">c</span> and apply the function to both sides.</li>
  <li>We transform the right hand side by applying distributivity of the dot product across addition, and commutativity of the dot product, i.e. <span class="mathquill-embedded-latex">a \cdot b = b \cdot a</span>.</li>
  <li>Right triangles in particular are a simplifying special case where one term drops out.</li>
</ol>

<p>I also think it’s important that the algebraic manipulation embeds the Pythagorean theorem as a special case of a relationship that holds for all triangles: the Law of Cosines<label for="law-of-cosines" class="margin-toggle"><sup>⊕</sup></label><input type="checkbox" id="law-of-cosines" class="margin-toggle" /><span class="marginnote">The following diagram shows the relationship between the vector form of the law of cosines, <span class="mathquill-embedded-latex">c^2 = a^2 + b^2 + 2 a \cdot b</span>, and the angle form of the law of cosines, <span class="mathquill-embedded-latex">c^2 = a^2 + b^2 - 2 |a||b|\cos C</span> <img src="/img/geometry-algebra-intuition/law-of-cosines-triangle.png" style="width: 213px" /> In the angle form, <span class="mathquill-embedded-latex">C</span> is an interior angle, but in the vector form, if <span class="mathquill-embedded-latex">a \cdot b = |a||b|\cos(\theta_{ab})</span>, then <span class="mathquill-embedded-latex">\theta_{ab}</span> is an exterior angle. This is the origin of the difference in sign of the final term between the two forms.</span>. If you have a theorem about right triangles, then you’d really like to know whether it’s ever true for non-right triangles, and how exactly it breaks down in cases where it isn’t true. Perhaps there’s a good way to deform Pythagoras’ picture to illustrate the law of cosines, but I don’t believe I’ve seen it.</p>

<p>For these reasons, I’ve generally been satisfied with the algebraic way of thinking about the Pythagorean theorem. So satisfied, I recently realized, that I’ve barely even tried to think about what pictures would “naturally” illustrate the algebraic manipulation.</p>

<p>In the remainder of this post, I plan to remedy this complacency.</p>

</p>
    <p><a href="/2017/02/28/geometry-algebra-intuition/">more...</a></p>
  </div>

  <div class="post">
    <h2><a href="/2016/12/12/sunset-geometry/">Sunset Geometry</a></h2>
    <abbr class="date">12 Dec 2016</abbr>
    <p><p>Robert Vanderbei has written a <a href="http://orfe.princeton.edu/~rvdb/tex/sunset/ms.pdf">beautiful</a> <a href="http://orfe.princeton.edu/~rvdb/tex/sunset/34-39.OPN.1108twoup.pdf">series</a> of <a href="http://orfe.princeton.edu/~rvdb/tex/sunset/sunset.pdf">articles</a> and <a href="http://orfe.princeton.edu/u/rvdb/tex/talks/sunset/sunsetTalk_RutgersREU_small.pdf">talks</a> about a method for finding the radius of the earth based on a single photograph of a sunset over a large, calm lake.</p>

<p>Vanderbei’s analysis is an elegant and subtle exercise in classical trigonometry. In this post, I would like to present an alternative analysis in a different language: Geometric Algebra. I believe that geometric algebra is a more powerful system for formulating and solving trigonometry problems than the classical “lengths and angles” approach, and it deserves to be better known. Vanderbei’s sunset problem is simple to understand and challenging to solve, so it makes a nice benchmark.</p>

<p>Here’s Vanderbei’s sunset problem. If the earth was flat, photographs of the sun setting over water would look like this:</p>

<div>
<img alt="Flat earth sunset diagram" src="/img/sunset-flat.png" />
</div>

<p>Notice that the reflection dips just as far below the horizon as the sun peaks above it.</p>

<p>Actual photographs of the sun setting over calm water (<a href="http://www.princeton.edu/~rvdb/Sunset-crop-lossless.jpg">like Vanderbei’s</a><label for="photo-skepticism" class="margin-toggle"><sup>⊕</sup></label><input type="checkbox" id="photo-skepticism" class="margin-toggle" /><span class="marginnote">Update: I should have been more careful to note that most photographs of sunsets over water actually don’t look like Vanderbei’s photograph (or my diagram) because of waves and atmospheric effects, and that sensor saturation artifacts make it hard to interpret images like this. Reproducing Vanderbei’s image may be somewhere between hard and impossible. <a href="#skepticism">More Below</a>.</span>) look more like this:</p>

<div>
<img alt="Round earth sunset diagram" src="/img/sunset-round.png" />
</div>

</p>
    <p><a href="/2016/12/12/sunset-geometry/">more...</a></p>
  </div>

  <div class="post">
    <h2><a href="/2015/11/02/optimizing-kakuro-in-julia/">Optimizing (part of) a Kakuro puzzle solver in Julia</a></h2>
    <abbr class="date">02 Nov 2015</abbr>
    <p><div class="p">
  <figure class="sidefig">
    <a href="https://commons.wikimedia.org/wiki/File%3AKakuro_black_box_solution.svg">
      <img width="256" height="256" alt="Solved Kakuro puzzle" src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Kakuro_black_box_solution.svg/256px-Kakuro_black_box_solution.svg.png" />
    </a>
    <figcaption>A solved Kakuro puzzle.</figcaption>
  </figure>
</div>

<p><a href="https://en.wikipedia.org/wiki/Kakuro">Kakuro</a> is a number puzzle that is a bit like a combination between Sudoku and a crossword puzzle. Imagine a crossword puzzle where, instead of words, blocks of boxes are filled with combinations of digits between 1 and 9, and instead of clues about words, you are given sums that a block of digits must add up to.</p>

<p>When you’re solving a Kakuro puzzle, it’s helpful to be able to generate all the combinations of <em>m</em> different digits that add up to a given sum. A <a href="https://groups.google.com/d/msg/julia-users/xJ7GpKAa16E/ZnaWuHZKBQAJ">recent thread</a> on the julia-users mailing list considered how to implement this task efficiently on a computer.</p>

<p>In this post, I’d like to show a progression of a few different implementations of the solution of this same problem. I think the progression shows off one of Julia’s core strengths: in a single language, you are free to think in either a high level way that is close to your problem domain and easy to prototype, or a low level way that pays more attention to the details of efficient machine execution. I don’t know any other system that even comes close to making it as easy to switch back and forth between these modes as Julia does.</p>

<p><em>Attention Conservation Notice</em>: If you’re looking for information on how to solve Kakuro with a computer, you should probably look elsewhere. This post is a deep dive into a tiny, tiny subproblem. On the other hand, I’ll show how to speed up the solution of this tiny, tiny subproblem by a factor of either ten thousand or a million, depending how you count, so if that sounds fun you’re in the right place.</p>

</p>
    <p><a href="/2015/11/02/optimizing-kakuro-in-julia/">more...</a></p>
  </div>

  <div class="post">
    <h2><a href="/2014/02/22/bisecting-floats/">Bisecting Floating Point Numbers</a></h2>
    <abbr class="date">22 Feb 2014</abbr>
    <p><div class="p">
  <figure class="sidefig">
    <img src="/img/bisection.png" />
  </figure>
</div>

<p>Bisection is about the simplest algorithm there is for isolating a root of a continuous function:</p>

<ol>
  <li>Start with an interval such that the function takes on oppositely signed values on the endpoints.</li>
  <li>Split the interval at its midpoint.</li>
  <li>Recurse into whichever half has endpoints on which the function takes on oppositely signed values.</li>
</ol>

<p>After each step, the new interval is half as large as the previous interval and still contains at least one zero (by the <a href="https://en.wikipedia.org/wiki/Intermediate_value_theorem">Intermediate Value Theorem</a>).</p>

<p>I want to highlight a couple of interesting issues that arise when implementing bisection in floating point arithmetic that you might miss if you just looked at the definition of the algorithm.</p>

</p>
    <p><a href="/2014/02/22/bisecting-floats/">more...</a></p>
  </div>


  </div>
  <script src="/js/vendor/katex.min.js"></script>
<script src="/js/render-katex.js"></script>

</body>
</html>